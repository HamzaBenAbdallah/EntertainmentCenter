{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nconst ACTIONS = {\n  API_REQUEST: \"api-request\",\n  FETCH_DATA: \"fetch-data\",\n  ERROR: \"error\"\n};\nconst initialState = {\n  data: {\n    results: []\n  },\n  loading: false,\n  error: null\n};\n\nconst reducer = (state, _ref) => {\n  let {\n    type,\n    payload\n  } = _ref;\n\n  switch (type) {\n    case ACTIONS.API_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case ACTIONS.FETCH_DATA:\n      console.log(\"payload: \", payload);\n      return { ...state,\n        data: payload.data,\n        loading: false\n      };\n\n    case ACTIONS.ERROR:\n      return { ...state,\n        error: payload,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const useFetch = url => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    dispatch({\n      type: ACTIONS.API_REQUEST\n    });\n\n    const fetch = async () => {\n      try {\n        const response = await axios.get(url);\n        dispatch({\n          type: ACTIONS.FETCH_DATA,\n          payload: response\n        });\n      } catch (error) {\n        dispatch({\n          type: ACTIONS.ERROR,\n          payload: error\n        });\n      }\n    };\n\n    fetch();\n  }, [url]);\n  return state;\n};\n\n_s(useFetch, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");","map":{"version":3,"names":["useEffect","useReducer","axios","ACTIONS","API_REQUEST","FETCH_DATA","ERROR","initialState","data","results","loading","error","reducer","state","type","payload","console","log","useFetch","url","dispatch","fetch","response","get"],"sources":["C:/Users/hamza/Documents/Concordia Bootcamps/entertainmentcenter/frontend/src/Hooks/useFetch.js"],"sourcesContent":["import { useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ACTIONS = {\r\n  API_REQUEST: \"api-request\",\r\n  FETCH_DATA: \"fetch-data\",\r\n  ERROR: \"error\",\r\n};\r\n\r\nconst initialState = {\r\n  data: { results: [] },\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case ACTIONS.API_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case ACTIONS.FETCH_DATA:\r\n      console.log(\"payload: \", payload);\r\n      return {\r\n        ...state,\r\n        data: payload.data,\r\n        loading: false,\r\n      };\r\n    case ACTIONS.ERROR:\r\n      return {\r\n        ...state,\r\n        error: payload,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useFetch = (url) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: ACTIONS.API_REQUEST });\r\n    const fetch = async () => {\r\n      try {\r\n        const response = await axios.get(url);\r\n        dispatch({ type: ACTIONS.FETCH_DATA, payload: response });\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.ERROR, payload: error });\r\n      }\r\n    };\r\n    fetch();\r\n  }, [url]);\r\n\r\n  return state;\r\n};\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG;EACdC,WAAW,EAAE,aADC;EAEdC,UAAU,EAAE,YAFE;EAGdC,KAAK,EAAE;AAHO,CAAhB;AAMA,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE;IAAEC,OAAO,EAAE;EAAX,CADa;EAEnBC,OAAO,EAAE,KAFU;EAGnBC,KAAK,EAAE;AAHY,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAD,WAA8B;EAAA,IAAtB;IAAEC,IAAF;IAAQC;EAAR,CAAsB;;EAC5C,QAAQD,IAAR;IACE,KAAKX,OAAO,CAACC,WAAb;MACE,OAAO,EACL,GAAGS,KADE;QAELH,OAAO,EAAE;MAFJ,CAAP;;IAIF,KAAKP,OAAO,CAACE,UAAb;MACEW,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,OAAzB;MACA,OAAO,EACL,GAAGF,KADE;QAELL,IAAI,EAAEO,OAAO,CAACP,IAFT;QAGLE,OAAO,EAAE;MAHJ,CAAP;;IAKF,KAAKP,OAAO,CAACG,KAAb;MACE,OAAO,EACL,GAAGO,KADE;QAELF,KAAK,EAAEI,OAFF;QAGLL,OAAO,EAAE;MAHJ,CAAP;;IAKF;MACE,OAAOG,KAAP;EApBJ;AAsBD,CAvBD;;AAyBA,OAAO,MAAMK,QAAQ,GAAIC,GAAD,IAAS;EAAA;;EAC/B,MAAM,CAACN,KAAD,EAAQO,QAAR,IAAoBnB,UAAU,CAACW,OAAD,EAAUL,YAAV,CAApC;EAEAP,SAAS,CAAC,MAAM;IACdoB,QAAQ,CAAC;MAAEN,IAAI,EAAEX,OAAO,CAACC;IAAhB,CAAD,CAAR;;IACA,MAAMiB,KAAK,GAAG,YAAY;MACxB,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,GAAN,CAAUJ,GAAV,CAAvB;QACAC,QAAQ,CAAC;UAAEN,IAAI,EAAEX,OAAO,CAACE,UAAhB;UAA4BU,OAAO,EAAEO;QAArC,CAAD,CAAR;MACD,CAHD,CAGE,OAAOX,KAAP,EAAc;QACdS,QAAQ,CAAC;UAAEN,IAAI,EAAEX,OAAO,CAACG,KAAhB;UAAuBS,OAAO,EAAEJ;QAAhC,CAAD,CAAR;MACD;IACF,CAPD;;IAQAU,KAAK;EACN,CAXQ,EAWN,CAACF,GAAD,CAXM,CAAT;EAaA,OAAON,KAAP;AACD,CAjBM;;GAAMK,Q"},"metadata":{},"sourceType":"module"}
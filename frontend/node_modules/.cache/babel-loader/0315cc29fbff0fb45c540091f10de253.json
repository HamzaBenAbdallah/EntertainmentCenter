{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useReducer } from \"react\";\nimport axios from \"axios\";\nconst ACTIONS = {\n  API_REQUEST: \"api-request\",\n  FETCH_DATA: \"fetch-data\",\n  ERROR: \"error\"\n};\nconst initialState = {\n  data: [],\n  loading: false,\n  error: null\n};\n\nconst reducer = (state, _ref) => {\n  let {\n    type,\n    payload\n  } = _ref;\n\n  switch (type) {\n    case ACTIONS.API_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case ACTIONS.FETCH_DATA:\n      return { ...state,\n        data: payload.data,\n        loading: false\n      };\n\n    case ACTIONS.ERROR:\n      return { ...state,\n        error: payload,\n        loading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const useFetch = url => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    dispatch({\n      type: ACTIONS.API_REQUEST\n    });\n\n    const fetch = async () => {\n      try {\n        const response = await axios.get(url);\n        console.log(response);\n        dispatch({\n          type: ACTIONS.FETCH_DATA,\n          payload: response.data\n        });\n      } catch (error) {\n        dispatch({\n          type: ACTIONS.ERROR,\n          payload: error\n        });\n      }\n    };\n\n    fetch();\n  }, [url]);\n  return state;\n};\n\n_s(useFetch, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");","map":{"version":3,"names":["useEffect","useReducer","axios","ACTIONS","API_REQUEST","FETCH_DATA","ERROR","initialState","data","loading","error","reducer","state","type","payload","useFetch","url","dispatch","fetch","response","get","console","log"],"sources":["C:/Users/hamza/Documents/Concordia Bootcamps/entertainmentcenter/frontend/src/Hooks/useFetch.js"],"sourcesContent":["import { useEffect, useReducer } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ACTIONS = {\r\n  API_REQUEST: \"api-request\",\r\n  FETCH_DATA: \"fetch-data\",\r\n  ERROR: \"error\",\r\n};\r\n\r\nconst initialState = {\r\n  data: [],\r\n  loading: false,\r\n  error: null,\r\n};\r\n\r\nconst reducer = (state, { type, payload }) => {\r\n  switch (type) {\r\n    case ACTIONS.API_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case ACTIONS.FETCH_DATA:\r\n      return {\r\n        ...state,\r\n        data: payload.data,\r\n        loading: false,\r\n      };\r\n    case ACTIONS.ERROR:\r\n      return {\r\n        ...state,\r\n        error: payload,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const useFetch = (url) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: ACTIONS.API_REQUEST });\r\n    const fetch = async () => {\r\n      try {\r\n        const response = await axios.get(url);\r\n        console.log(response);\r\n        dispatch({ type: ACTIONS.FETCH_DATA, payload: response.data });\r\n      } catch (error) {\r\n        dispatch({ type: ACTIONS.ERROR, payload: error });\r\n      }\r\n    };\r\n    fetch();\r\n  }, [url]);\r\n\r\n  return state;\r\n};\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG;EACdC,WAAW,EAAE,aADC;EAEdC,UAAU,EAAE,YAFE;EAGdC,KAAK,EAAE;AAHO,CAAhB;AAMA,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,EADa;EAEnBC,OAAO,EAAE,KAFU;EAGnBC,KAAK,EAAE;AAHY,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAD,WAA8B;EAAA,IAAtB;IAAEC,IAAF;IAAQC;EAAR,CAAsB;;EAC5C,QAAQD,IAAR;IACE,KAAKV,OAAO,CAACC,WAAb;MACE,OAAO,EACL,GAAGQ,KADE;QAELH,OAAO,EAAE;MAFJ,CAAP;;IAIF,KAAKN,OAAO,CAACE,UAAb;MACE,OAAO,EACL,GAAGO,KADE;QAELJ,IAAI,EAAEM,OAAO,CAACN,IAFT;QAGLC,OAAO,EAAE;MAHJ,CAAP;;IAKF,KAAKN,OAAO,CAACG,KAAb;MACE,OAAO,EACL,GAAGM,KADE;QAELF,KAAK,EAAEI,OAFF;QAGLL,OAAO,EAAE;MAHJ,CAAP;;IAKF;MACE,OAAOG,KAAP;EAnBJ;AAqBD,CAtBD;;AAwBA,OAAO,MAAMG,QAAQ,GAAIC,GAAD,IAAS;EAAA;;EAC/B,MAAM,CAACJ,KAAD,EAAQK,QAAR,IAAoBhB,UAAU,CAACU,OAAD,EAAUJ,YAAV,CAApC;EAEAP,SAAS,CAAC,MAAM;IACdiB,QAAQ,CAAC;MAAEJ,IAAI,EAAEV,OAAO,CAACC;IAAhB,CAAD,CAAR;;IACA,MAAMc,KAAK,GAAG,YAAY;MACxB,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAAUJ,GAAV,CAAvB;QACAK,OAAO,CAACC,GAAR,CAAYH,QAAZ;QACAF,QAAQ,CAAC;UAAEJ,IAAI,EAAEV,OAAO,CAACE,UAAhB;UAA4BS,OAAO,EAAEK,QAAQ,CAACX;QAA9C,CAAD,CAAR;MACD,CAJD,CAIE,OAAOE,KAAP,EAAc;QACdO,QAAQ,CAAC;UAAEJ,IAAI,EAAEV,OAAO,CAACG,KAAhB;UAAuBQ,OAAO,EAAEJ;QAAhC,CAAD,CAAR;MACD;IACF,CARD;;IASAQ,KAAK;EACN,CAZQ,EAYN,CAACF,GAAD,CAZM,CAAT;EAcA,OAAOJ,KAAP;AACD,CAlBM;;GAAMG,Q"},"metadata":{},"sourceType":"module"}